<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>User Profile</title>
	<link rel="stylesheet" href="/css/style.css">
</head>

<body>
	<%- include('../partials/header') %>

		<div class="profile-container">
			<h1>User Profile</h1>

			<!-- Success Message -->
			<% if (success) { %>
				<div class="success-message" id="success-message">
					<%= success %>
				</div>
				<% } %>

					<form action="/user/profile" method="POST">
						<div class="form-group">
							<label for="name">Name</label>
							<input type="text" id="name" name="name" value="<%= user.name %>" required>
						</div>
						<div class="form-group">
							<label for="email">Email</label>
							<input type="email" id="email" name="email" value="<%= user.email %>" required>
						</div>
						<div class="form-group">
							<label for="password">Password (Leave blank to keep current password)</label>
							<input type="password" id="password" name="password" placeholder="Enter new password">
						</div>
						<button type="submit" class="submit-btn">Update Profile</button>
						<a href="/dashboard" class="back-btn">Back</a>
					</form>
		</div>

		<%- include('../partials/footer') %>
			<script>
				const successMessage = document.getElementById('success-message');
				if (successMessage) {
					setTimeout(() => {
						successMessage.classList.add('hidden');
					}, 5000);
				}
			</script>
</body>

</html>